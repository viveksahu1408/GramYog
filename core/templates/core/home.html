{% extends 'core/base.html' %}

{% block content %}
<div class="card border-0 shadow-sm mb-4" style="background: linear-gradient(135deg, #d37420, #bc26e9); color: white; border-radius: 15px;">
    <div class="card-body p-4">
        <h4>‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§≠‡§æ‡§à ‡§∏‡§æ‡§π‡§¨! üôè</h4>
        <p class="mb-0 opacity-75">
            {{ request.session.user_village_name|default:"‡§Ü‡§™‡§ï‡•á ‡§ó‡§æ‡§Å‡§µ" }} ‡§Æ‡•á‡§Ç ‡§Ü‡§ú ‡§Ü‡§™ ‡§ï‡•ç‡§Ø‡§æ ‡§¢‡•Ç‡§Ç‡§¢ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?
        </p>
    </div>
</div>

<form action="{% url 'service_list' %}" method="GET" class="mb-4">
    <div class="input-group shadow-sm rounded-pill overflow-hidden bg-white">
        <span class="input-group-text border-0 bg-white ps-3">
            <i class="fas fa-search text-muted"></i>
        </span>
        <input type="text" name="q" class="form-control border-0 py-3" placeholder="‡§ü‡•ç‡§∞‡•à‡§ï‡•ç‡§ü‡§∞, ‡§Æ‡§ø‡§∏‡•ç‡§§‡•ç‡§∞‡•Ä, ‡§°‡•â‡§ï‡•ç‡§ü‡§∞..." required>
        <button type="submit" class="input-group-text border-0 bg-white pe-3" style="cursor: pointer;">
            <i class="fas fa-arrow-right text-success"></i>
        </button>
    </div>
</form>

<div class="d-flex justify-content-between align-items-center mb-3">
    <h6 class="fw-bold m-0 text-secondary">‡§∏‡•á‡§µ‡§æ‡§è‡§Ç (Services)</h6>
    <a href="{% url 'service_list' %}" class="text-success text-decoration-none small fw-bold">‡§∏‡§≠‡•Ä ‡§¶‡•á‡§ñ‡•á‡§Ç</a>
</div>

<div class="row g-3">
    {% for cat in categories %}
    <div class="col-4 col-md-3 text-center">
        <a href="{% url 'service_list_by_category' cat.slug %}" class="text-decoration-none">
            <div class="card border-0 shadow-sm h-100 py-3" style="border-radius: 15px; transition: transform 0.2s;">
                <div class="card-body p-2">
                    
                    {% if cat.icon %}
                        <img src="{{ cat.icon.url }}" style="width: 40px; height: 40px; object-fit: contain;" class="mb-2">
                    {% else %}
                        <div class="mb-2">
                            {% if "Tractor" in cat.name %}
                                <i class="fas fa-tractor fa-2x text-warning"></i>
                            {% elif "Electric" in cat.name or "Bijli" in cat.name %}
                                <i class="fas fa-bolt fa-2x text-warning"></i>
                            {% elif "Mistri" in cat.name or "Raj" in cat.name or "Construction" in cat.name %}
                                <i class="fas fa-trowel-bricks fa-2x text-secondary"></i>
                            {% elif "Plumber" in cat.name or "Nal" in cat.name %}
                                <i class="fas fa-faucet fa-2x text-primary"></i>
                            {% elif "Paint" in cat.name %}
                                <i class="fas fa-paint-roller fa-2x text-danger"></i>
                            {% elif "Driver" in cat.name or "Gadi" in cat.name %}
                                <i class="fas fa-car fa-2x text-info"></i>
                            {% elif "Welder" in cat.name %}
                                <i class="fas fa-fire fa-2x text-dark"></i>
                            {% elif "Carpenter" in cat.name or "Badhai" in cat.name %}
                                <i class="fas fa-chair fa-2x text-success"></i>
                            {% elif "Tent" in cat.name %}
                                <i class="fas fa-campground fa-2x text-danger"></i>
                            {% else %}
                                <i class="fas fa-briefcase fa-2x text-primary"></i> {% endif %}
                        </div>
                    {% endif %}
                    
                    <h6 class="card-title small fw-bold mb-0 text-dark text-truncate">{{ cat.name }}</h6>
                </div>
            </div>
        </a>
    </div>
    {% endfor %}
</div>

<div class="mt-4">
    <h6 class="fw-bold mb-3 text-secondary">‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Ø‡•ã‡§ú‡§®‡§æ‡§è‡§Ç</h6>
    
    <a href="{% url 'schemes' %}" class="text-decoration-none text-dark">
        <div class="card border-0 shadow-sm p-2 d-flex flex-row align-items-center" style="border-radius: 12px;">
            <div class="bg-warning text-white rounded p-3 me-3">
                <i class="fas fa-female fa-lg"></i>
            </div>
            <div>
                <h6 class="mb-1 fw-bold">‡§≤‡§æ‡§°‡§º‡§≤‡•Ä ‡§¨‡§π‡§®‡§æ ‡§Ø‡•ã‡§ú‡§®‡§æ</h6>
                <small class="text-muted">‡§™‡§æ‡§§‡•ç‡§∞‡§§‡§æ ‡§î‡§∞ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§ï‡•Ä ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä</small>
            </div>
        </div>
    </a>

    <div class="card border-0 shadow-sm mt-4 text-white" style="background: linear-gradient(45deg, #11998e, #38ef7d); border-radius: 15px;">
        <div class="card-body p-3 d-flex justify-content-between align-items-center">
            <div>
                <h6 class="fw-bold mb-1">‡§ï‡§æ‡§Æ ‡§ö‡§æ‡§π‡§ø‡§è?</h6>
                <p class="small mb-2 opacity-90">‡§Ö‡§™‡§®‡•Ä ‡§¶‡•Å‡§ï‡§æ‡§® ‡§Ø‡§æ ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç.</p>
                <a href="{% url 'register_provider' %}" class="btn btn-light btn-sm rounded-pill text-success fw-bold px-3 shadow-sm">
                    ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç <i class="fas fa-arrow-right ms-1"></i>
                </a>
            </div>
            <div style="font-size: 3rem; opacity: 0.8;">
                <i class="fas fa-handshake"></i>
            </div>
        </div>
    </div>
</div>
{% endblock %}